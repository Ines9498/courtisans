<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Plateau Courtisans</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <!-- ğŸ” Connexion au lobby -->
  <div id="connexion-lobby" style="background-color: #f5f5f5; padding: 1rem; border-radius: 12px; border: 2px solid #ccc; margin-bottom: 2rem;">
    <h3>Connexion Ã  une partie</h3>
    <label>Pseudo :</label>
    <input type="text" id="pseudo" placeholder="Ton nom" required style="padding: 0.5rem; margin-right: 1rem;" />

    <label>Code partie :</label>
    <input type="text" id="code-partie" placeholder="ABC123" required style="padding: 0.5rem; margin-right: 1rem;" />

    <button id="rejoindre-partie" style="padding: 0.5rem 1rem;">Rejoindre</button>
    <button id="creer-partie" style="padding: 0.5rem 1rem;">CrÃ©er une partie</button>

    <div id="etat-lobby" style="margin-top: 1rem; font-weight: bold;"></div>
  </div>

  <!-- âœ… Interface principale du jeu (masquÃ©e au dÃ©but) -->
  <div id="interface-jeu" style="display: none;">
    <!-- âœ… Zone de scores -->
    <div id="zone-scores">
      <h3>Scores</h3>
    </div>

    <!-- âœ… Modal pour lâ€™assassin -->
    <div id="assassin-modal" class="modal">
      <div class="modal-content">
        <p>Souhaitez-vous activer le pouvoir de lâ€™assassin ?</p>
        <div class="modal-buttons">
          <button id="btn-assassin-oui">Oui</button>
          <button id="btn-assassin-non">Non</button>
        </div>
      </div>
    </div>

    <!-- âœ… SÃ©lection nombre de joueurs -->
    <div class="select-joueurs">
      <label for="nb-joueurs">Nombre de joueurs :</label>
      <select id="nb-joueurs">
        <option value="2">2 joueurs</option>
        <option value="3">3 joueurs</option>
        <option value="4">4 joueurs</option>
        <option value="5" selected>5 joueurs</option>
      </select>
      <button id="valider-joueurs">Valider</button>
    </div>

    <!-- âœ… Boutons de tour -->
    <div class="zone-actions-tour">
      <button id="annuler-tour">ğŸ”„ Recommencer le tour</button>
      <button id="valider-tour">âœ… Valider le tour</button>
    </div>

    <!-- âœ… Indicateur de tour -->
    <div id="tour-actuel" style="font-size: 2rem; font-weight: bold;">ğŸ§ Ton tour</div>

    <!-- âœ… Domaines adversaires 1 et 4 alignÃ©s -->
    <div id="adversaires-haut" class="ligne-adversaires-haut"></div>

    <!-- âœ… Autres adversaires (gauche et droite) -->
    <div id="domaine-adversaires"></div>

    <!-- âœ… âœ… Bloc central regroupÃ© pour gestion marge -->
    <div class="zone-centrale">

      <!-- âœ… Zone lumiÃ¨re -->
      <h3>Zone de lumiÃ¨re</h3>
      <div class="ligne-zones" id="zone-lumiere">
        <div class="sous-zone" data-famille="papillon" data-role="lumiere">ğŸŒ Papillon</div>
        <div class="sous-zone" data-famille="crapaud" data-role="lumiere">ğŸŒ Crapaud</div>
        <div class="sous-zone" data-famille="rossignol" data-role="lumiere">ğŸŒ Rossignol</div>
        <div class="sous-zone" data-famille="espion" data-role="lumiere">ğŸŒ Espion ğŸ­</div>
        <div class="sous-zone" data-famille="lapin" data-role="lumiere">ğŸŒ Lapin</div>
        <div class="sous-zone" data-famille="cerf" data-role="lumiere">ğŸŒ Cerf</div>
        <div class="sous-zone" data-famille="carpe" data-role="lumiere">ğŸŒ Carpe</div>
      </div>

      <!-- âœ… Plateau -->
      <div class="plateau-deck-wrapper">
        <div class="defausse-zone">
          <h3>DÃ©fausse</h3>
          <div id="zone-defausse"></div>
        </div>
        <div class="plateau-wrapper">
          <img src="images/plateau.jpg" alt="Plateau de jeu Courtisans" class="plateau" />
        </div>
        <div class="deck-zone">
          <h3>Deck</h3>
          <div class="deck" id="deck" onclick="piocherCartes()"></div>
        </div>
      </div>

      <!-- âœ… Zone disgrÃ¢ce -->
      <h3>Zone de disgrÃ¢ce</h3>
      <div class="ligne-zones" id="zone-disgrace">
        <div class="sous-zone" data-famille="papillon" data-role="disgrace">ğŸŒ˜ Papillon</div>
        <div class="sous-zone" data-famille="crapaud" data-role="disgrace">ğŸŒ˜ Crapaud</div>
        <div class="sous-zone" data-famille="rossignol" data-role="disgrace">ğŸŒ˜ Rossignol</div>
        <div class="sous-zone" data-famille="espion" data-role="disgrace">ğŸŒ˜ Espion ğŸ­</div>
        <div class="sous-zone" data-famille="lapin" data-role="disgrace">ğŸŒ˜ Lapin</div>
        <div class="sous-zone" data-famille="cerf" data-role="disgrace">ğŸŒ˜ Cerf</div>
        <div class="sous-zone" data-famille="carpe" data-role="disgrace">ğŸŒ˜ Carpe</div>
      </div>

      <!-- âœ… Main du joueur -->
      <div class="cartes-zone" id="zone-cartes">
        <h3>Ta main</h3>
        <div class="main-du-joueur" id="main-joueur"></div>
      </div>

      <!-- âœ… Domaine du joueur -->
      <div class="ligne-zones" id="domaine-joueur">
        <div class="sous-zone" data-famille="papillon" data-role="joueur">ğŸ’  Papillon</div>
        <div class="sous-zone" data-famille="crapaud" data-role="joueur">ğŸ’  Crapaud</div>
        <div class="sous-zone" data-famille="rossignol" data-role="joueur">ğŸ’  Rossignol</div>
        <div class="sous-zone" data-famille="espion" data-role="joueur">ğŸ’  Espion ğŸ­</div>
        <div class="sous-zone" data-famille="lapin" data-role="joueur">ğŸ’  Lapin</div>
        <div class="sous-zone" data-famille="cerf" data-role="joueur">ğŸ’  Cerf</div>
        <div class="sous-zone" data-famille="carpe" data-role="joueur">ğŸ’  Carpe</div>
      </div>

    </div> <!-- zone-centrale -->
  </div> <!-- interface-jeu -->

  <!-- âœ… Zone visualisation pour effet assassin -->
  <div id="visual-zone"></div>

  <!-- âœ… Message tour -->
  <div id="message-tour" style="position: fixed; top: 40%; left: 50%; transform: translate(-50%, -50%);
    background-color: rgba(255,255,240,0.95); padding: 1.2rem 2rem; border: 2px solid #888;
    border-radius: 12px; box-shadow: 0 0 12px rgba(0,0,0,0.25); font-size: 2rem;
    z-index: 9999; display: none;">
    ğŸ” Nouveau tour !
  </div>

  <!-- âœ… Socket.IO (doit Ãªtre avant script.js) -->
  <script src="https://cdn.socket.io/4.4.1/socket.io.min.js"></script>

  <!-- âœ… Script principal -->
  <script src="script.js"></script>

</body>
</html>